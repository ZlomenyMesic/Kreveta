Middlegame = [
     100,  100,  100,  100,  100,  100,  100,  100,
      53,   75,   73,   71,   72,   91,   60,   70,
      71,  100,   88,   69,   72,   82,   80,   69,
     102,  110,  107,   79,   79,   90,  111,  109,
     126,  108,  116,   92,  109,   95,  127,  105,
     170,  153,  134,  145,  132,  137,  146,  149,
     216,  206,  207,  191,  186,  210,  213,  198,
     100,  100,  100,  100,  100,  100,  100,  100,
      
     226,  221,  241,  252,  246,  239,  224,  234,
     230,  245,  255,  236,  246,  254,  231,  233,
     236,  245,  259,  266,  266,  251,  251,  233,
     248,  271,  274,  288,  286,  282,  272,  239,
     239,  271,  291,  278,  286,  271,  264,  236,
     244,  252,  264,  279,  273,  255,  245,  243,
     239,  252,  251,  263,  244,  253,  253,  243,
     242,  250,  243,  248,  242,  245,  249,  230,
     
     283,  289,  286,  278,  296,  277,  275,  283,
     285,  292,  283,  285,  298,  281,  279,  277,
     283,  272,  281,  298,  308,  287,  282,  303,
     284,  290,  296,  277,  299,  288,  277,  261,
     284,  272,  288,  290,  297,  302,  293,  274,
     283,  274,  274,  296,  284,  268,  293,  268,
     279,  278,  277,  281,  272,  278,  272,  270,
     285,  281,  283,  293,  289,  272,  285,  272,
     
     497,  524,  490,  491,  493,  504,  508,  487,
     509,  506,  508,  503,  494,  514,  503,  489,
     515,  519,  512,  511,  505,  514,  508,  516,
     489,  505,  494,  496,  497,  516,  501,  498,
     496,  510,  498,  501,  489,  513,  512,  510,
     495,  503,  503,  500,  500,  502,  509,  509,
     492,  497,  511,  506,  513,  508,  520,  500,
     491,  503,  496,  499,  494,  508,  506,  491,
     
     899,  914,  908,  901,  896,  914,  909,  902,
     901,  898,  916,  899,  919,  911,  918,  901,
     907,  917,  914,  929,  911,  909,  900,  915,
     917,  922,  931,  922,  934,  924,  915,  909,
     909,  913,  916,  923,  930,  910,  911,  912,
     918,  919,  906,  918,  913,  916,  913,  917,
     907,  900,  918,  916,  914,  904,  903,  909,
     891,  906,  894,  900,  918,  901,  911,  905,
     
     -55,  -39,   -6,  -12,  -18,  -19,  -42,  -69,
     -36,  -12,    3,   20,    9,   -8,  -22,  -34,
     -19,   -7,    9,    1,    8,  -16,  -10,   -7,
      -6,    3,   14,   26,   12,   -6,    4,   -3,
     -17,    7,   11,   25,   14,   -4,   -8,  -21,
     -21,   -7,    4,    6,   -5,   -2,  -24,  -16,
     -31,  -17,  -18,    5,  -11,   -4,  -22,  -29,
     -74,  -47,  -21,   -9,   -8,  -17,  -30,  -67,
    ]

RESULT_FILE = "output.txt"

shifts = []

with open(RESULT_FILE, "r") as f:
    for line in f:
        parts = line.strip().split("mean_shift:")
        if len(parts) != 2:
            raise ValueError(f"Malformed line: {line}")

        mean_shift = float(parts[1].strip())
        shifts.append(round(mean_shift))

# apply shifts
new_pst = [value + shift for value, shift in zip(Middlegame, shifts)]

# calculate diff diff (new - old)
diff_pst = [new - old for old, new in zip(Middlegame, new_pst)]

def print_array(name, array):
    print(f"internal static readonly short[] {name} =")
    print("[")
    for i in range(0, len(array), 8):
        row = ", ".join(f"{v:4d}" for v in array[i:i+8])
        print(f"    {row},")
    print("];\n")

# output arrays
print_array("Middlegame", new_pst)
print_array("MiddlegameDiff", diff_pst)