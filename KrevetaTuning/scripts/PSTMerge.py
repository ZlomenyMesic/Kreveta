Endgame =[
      100,  100,  100,  100,  100,  100,  100,  100,
      75,   75,   75,   70,   70,   75,   75,   75,
      85,   85,   80,   75,   75,   80,   85,   85,
      105,  105,  105,  100,  100,  105,  105,  105,
      123,  123,  116,  115,  115,  116,  123,  123,
      169,  158,  146,  144,  144,  146,  158,  169,
      210,  208,  203,  197,  197,  203,  208,  210,
      100,  100,  100,  100,  100,  100,  100,  100,
      230,  230,  235,  240,  240,  235,  230,  230,
      230,  240,  245,  245,  245,  245,  240,  230,
      235,  245,  255,  260,  260,  255,  245,  235,
      240,  270,  280,  285,  285,  280,  270,  240,
      245,  270,  280,  285,  285,  280,  270,  245,
      245,  255,  265,  270,  270,  265,  255,  245,
      245,  250,  250,  255,  255,  250,  250,  245,
      245,  245,  250,  245,  245,  250,  245,  245,
      280,  280,  285,  290,  290,  285,  280,  280,
      280,  285,  290,  295,  295,  290,  285,  280,
      290,  285,  285,  290,  290,  285,  285,  290,
      280,  285,  290,  295,  295,  290,  285,  280,
      280,  285,  295,  300,  300,  295,  285,  280,
      280,  285,  285,  295,  295,  285,  285,  280,
      285,  280,  285,  290,  290,  285,  280,  285,
      280,  280,  285,  290,  290,  285,  280,  280,
      505,  510,  510,  505,  505,  510,  510,  505,
      505,  510,  515,  510,  510,  515,  510,  505,
      510,  515,  510,  505,  505,  510,  515,  510,
      505,  510,  505,  500,  500,  505,  510,  505,
      505,  510,  505,  500,  500,  505,  510,  505,
      510,  515,  510,  505,  505,  510,  515,  510,
      505,  510,  515,  510,  510,  515,  510,  505,
      505,  510,  510,  505,  505,  510,  510,  505,
      910,  910,  910,  910,  910,  910,  910,  910,
      910,  915,  915,  915,  915,  915,  915,  910,
      910,  915,  920,  925,  925,  920,  915,  910,
      910,  915,  925,  935,  935,  925,  915,  910,
      910,  915,  925,  935,  935,  925,  915,  910,
      910,  915,  920,  925,  925,  920,  915,  910,
      910,  915,  915,  915,  915,  915,  915,  910,
      910,  910,  910,  910,  910,  910,  910,  910,
      -70,  -35,  -20,  -10,  -10,  -20,  -35,  -70,
      -35,  -20,  -10,   0,    0,   -10,  -20,  -35,
      -20,  -10,   0,    5,    5,    0,   -10,  -20,
      -10,   0,    5,    25,   25,   5,    0,   -10,
      -10,  -0,    5,    25,   25,   5,    0,   -10,
      -20,  -10,   0,    5,    5,    0,   -10,  -20,
      -35,  -20,  -10,   0,    0,   -10,  -20,  -35,
      -70,  -35,  -20,  -10,  -10,  -20,  -35,  -70
    ]

RESULT_FILE = "output.txt"

shifts = []

with open(RESULT_FILE, "r") as f:
    for line in f:
        parts = line.strip().split("mean_shift:")
        if len(parts) != 2:
            raise ValueError(f"Malformed line: {line}")

        mean_shift = float(parts[1].strip())
        shifts.append(round(mean_shift))

# apply shifts
new_pst = [value + shift for value, shift in zip(Endgame, shifts)]

# calculate diff diff (new - old)
diff_pst = [new - old for old, new in zip(Endgame, new_pst)]

def print_array(name, array):
    print(f"internal static readonly short[] {name} =")
    print("[")
    for i in range(0, len(array), 8):
        row = ", ".join(f"{v:4d}" for v in array[i:i+8])
        print(f"    {row},")
    print("];\n")

# output arrays
print_array("Endgame", new_pst)
print_array("EndgameDiff", diff_pst)